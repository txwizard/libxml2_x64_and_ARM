; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27027.1 

	TITLE	C:\Users\DAG\Documents\_Clients\CodeProject Authors Group\Windows on ARM\libxml2\libxml2-2.9.9\xmlmodule.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

_DATA	SEGMENT
COMM	_xmlMalloc:DWORD
COMM	_xmlMallocAtomic:DWORD
COMM	_xmlRealloc:DWORD
COMM	_xmlFree:DWORD
COMM	_xmlMemStrdup:DWORD
COMM	_forbiddenExp:DWORD
COMM	_emptyExp:DWORD
_DATA	ENDS
msvcjmc	SEGMENT
__188180DA_corecrt_math@h DB 01H
__2CC6E67D_corecrt_stdio_config@h DB 01H
__05476D76_corecrt_wstdio@h DB 01H
__A452D4A0_stdio@h DB 01H
__4384A2D9_corecrt_memcpy_s@h DB 01H
__4E51A221_corecrt_wstring@h DB 01H
__2140C079_string@h DB 01H
__7B7A869E_ctype@h DB 01H
__457DD326_basetsd@h DB 01H
__1887E595_winnt@h DB 01H
__9FC7C64B_processthreadsapi@h DB 01H
__FA470AEC_memoryapi@h DB 01H
__F37DAFF1_winerror@h DB 01H
__7A450CCC_winbase@h DB 01H
__86261D59_stralign@h DB 01H
__D4D471B4_xmlmodule@c DB 01H
msvcjmc	ENDS
PUBLIC	_xmlModuleOpen
PUBLIC	_xmlModuleSymbol
PUBLIC	_xmlModuleClose
PUBLIC	_xmlModuleFree
PUBLIC	__JustMyCode_Default
PUBLIC	??_C@_0BP@DJFHNAOK@Memory?5allocation?5failed?5?3?5?$CFs?6@ ; `string'
PUBLIC	??_C@_0BA@OFEBAJM@creating?5module@		; `string'
PUBLIC	??_C@_0BD@JFAKKDJO@failed?5to?5open?5?$CFs?6@	; `string'
PUBLIC	??_C@_0BA@IHHNNHF@null?5parameter?6@		; `string'
PUBLIC	??_C@_04HIBGFPH@NULL@				; `string'
PUBLIC	??_C@_0BL@MIBDMDEL@failed?5to?5find?5symbol?3?5?$CFs?6@ ; `string'
PUBLIC	??_C@_0BF@JLJIEBED@null?5module?5pointer?6@	; `string'
PUBLIC	??_C@_0BF@CKAMEDGJ@failed?5to?5close?3?5?$CFs?6@ ; `string'
EXTRN	_xmlStrdup:PROC
EXTRN	___xmlRaiseError:PROC
EXTRN	__imp__FreeLibrary@4:PROC
EXTRN	__imp__GetProcAddress@8:PROC
EXTRN	__imp__LoadLibraryA@4:PROC
EXTRN	@__CheckForDebuggerJustMyCode@4:PROC
EXTRN	__RTC_CheckEsp:PROC
EXTRN	__RTC_InitBase:PROC
EXTRN	__RTC_Shutdown:PROC
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT rtc$IMZ
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT ??_C@_0BF@CKAMEDGJ@failed?5to?5close?3?5?$CFs?6@
CONST	SEGMENT
??_C@_0BF@CKAMEDGJ@failed?5to?5close?3?5?$CFs?6@ DB 'failed to close: %s', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BF@JLJIEBED@null?5module?5pointer?6@
CONST	SEGMENT
??_C@_0BF@JLJIEBED@null?5module?5pointer?6@ DB 'null module pointer', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@MIBDMDEL@failed?5to?5find?5symbol?3?5?$CFs?6@
CONST	SEGMENT
??_C@_0BL@MIBDMDEL@failed?5to?5find?5symbol?3?5?$CFs?6@ DB 'failed to fin'
	DB	'd symbol: %s', 0aH, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_04HIBGFPH@NULL@
CONST	SEGMENT
??_C@_04HIBGFPH@NULL@ DB 'NULL', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@IHHNNHF@null?5parameter?6@
CONST	SEGMENT
??_C@_0BA@IHHNNHF@null?5parameter?6@ DB 'null parameter', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@JFAKKDJO@failed?5to?5open?5?$CFs?6@
CONST	SEGMENT
??_C@_0BD@JFAKKDJO@failed?5to?5open?5?$CFs?6@ DB 'failed to open %s', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@OFEBAJM@creating?5module@
CONST	SEGMENT
??_C@_0BA@OFEBAJM@creating?5module@ DB 'creating module', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@DJFHNAOK@Memory?5allocation?5failed?5?3?5?$CFs?6@
CONST	SEGMENT
??_C@_0BP@DJFHNAOK@Memory?5allocation?5failed?5?3?5?$CFs?6@ DB 'Memory al'
	DB	'location failed : %s', 0aH, 00H		; `string'
CONST	ENDS
; Function compile flags: /Odt
;	COMDAT __JustMyCode_Default
_TEXT	SEGMENT
__JustMyCode_Default PROC				; COMDAT
	push	ebp
	mov	ebp, esp
	pop	ebp
	ret	0
__JustMyCode_Default ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File c:\users\dag\documents\_clients\codeproject authors group\windows on arm\libxml2\libxml2-2.9.9\xmlmodule.c
;	COMDAT _xmlModuleErrMemory
_TEXT	SEGMENT
_name$ = -4						; size = 4
_module$ = 8						; size = 4
_extra$ = 12						; size = 4
_xmlModuleErrMemory PROC				; COMDAT

; 50   : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH
	mov	ecx, OFFSET __D4D471B4_xmlmodule@c
	call	@__CheckForDebuggerJustMyCode@4

; 51   :     const char *name = NULL;

	mov	DWORD PTR _name$[ebp], 0

; 52   : 
; 53   :     if (module != NULL) {

	cmp	DWORD PTR _module$[ebp], 0
	je	SHORT $LN2@xmlModuleE

; 54   :         name = (const char *) module->name;

	mov	eax, DWORD PTR _module$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR _name$[ebp], ecx
$LN2@xmlModuleE:

; 55   :     }
; 56   : 
; 57   :     __xmlRaiseError(NULL, NULL, NULL, NULL, NULL, XML_FROM_MODULE,

	mov	edx, DWORD PTR _extra$[ebp]
	push	edx
	push	OFFSET ??_C@_0BP@DJFHNAOK@Memory?5allocation?5failed?5?3?5?$CFs?6@
	push	0
	push	0
	push	0
	mov	eax, DWORD PTR _name$[ebp]
	push	eax
	mov	ecx, DWORD PTR _extra$[ebp]
	push	ecx
	push	0
	push	0
	push	3
	push	2
	push	26					; 0000001aH
	push	0
	push	0
	push	0
	push	0
	push	0
	call	___xmlRaiseError
	add	esp, 68					; 00000044H

; 58   :                     XML_ERR_NO_MEMORY, XML_ERR_FATAL, NULL, 0, extra,
; 59   :                     name, NULL, 0, 0,
; 60   :                     "Memory allocation failed : %s\n", extra);
; 61   : }

	add	esp, 4
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
_xmlModuleErrMemory ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File c:\users\dag\documents\_clients\codeproject authors group\windows on arm\libxml2\libxml2-2.9.9\xmlmodule.c
;	COMDAT _xmlModulePlatformSymbol
_TEXT	SEGMENT
tv68 = -4						; size = 4
_handle$ = 8						; size = 4
_name$ = 12						; size = 4
_symbol$ = 16						; size = 4
_xmlModulePlatformSymbol PROC				; COMDAT

; 342  : {

	push	ebp
	mov	ebp, esp
	push	ecx
	push	esi
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH
	mov	ecx, OFFSET __D4D471B4_xmlmodule@c
	call	@__CheckForDebuggerJustMyCode@4

; 343  : XML_IGNORE_PEDANTIC_WARNINGS
; 344  : #ifdef _WIN32_WCE
; 345  :     /*
; 346  :      * GetProcAddressA seems only available on WinCE
; 347  :      */
; 348  :     *symbol = GetProcAddressA(handle, name);
; 349  : #else
; 350  :     *symbol = GetProcAddress(handle, name);

	mov	esi, esp
	mov	eax, DWORD PTR _name$[ebp]
	push	eax
	mov	ecx, DWORD PTR _handle$[ebp]
	push	ecx
	call	DWORD PTR __imp__GetProcAddress@8
	cmp	esi, esp
	call	__RTC_CheckEsp
	mov	edx, DWORD PTR _symbol$[ebp]
	mov	DWORD PTR [edx], eax

; 351  : #endif
; 352  :     return (NULL == *symbol) ? -1 : 0;

	mov	eax, DWORD PTR _symbol$[ebp]
	cmp	DWORD PTR [eax], 0
	jne	SHORT $LN3@xmlModuleP
	mov	DWORD PTR tv68[ebp], -1
	jmp	SHORT $LN4@xmlModuleP
$LN3@xmlModuleP:
	mov	DWORD PTR tv68[ebp], 0
$LN4@xmlModuleP:
	mov	eax, DWORD PTR tv68[ebp]

; 353  : XML_POP_WARNINGS
; 354  : }

	pop	esi
	add	esp, 4
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
_xmlModulePlatformSymbol ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File c:\users\dag\documents\_clients\codeproject authors group\windows on arm\libxml2\libxml2-2.9.9\xmlmodule.c
;	COMDAT _xmlModulePlatformClose
_TEXT	SEGMENT
tv67 = -8						; size = 4
_rc$ = -4						; size = 4
_handle$ = 8						; size = 4
_xmlModulePlatformClose PROC				; COMDAT

; 327  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 8
	push	esi
	mov	DWORD PTR [ebp-8], -858993460		; ccccccccH
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH
	mov	ecx, OFFSET __D4D471B4_xmlmodule@c
	call	@__CheckForDebuggerJustMyCode@4

; 328  :     int rc;
; 329  : 
; 330  :     rc = FreeLibrary(handle);

	mov	esi, esp
	mov	eax, DWORD PTR _handle$[ebp]
	push	eax
	call	DWORD PTR __imp__FreeLibrary@4
	cmp	esi, esp
	call	__RTC_CheckEsp
	mov	DWORD PTR _rc$[ebp], eax

; 331  :     return (0 == rc);

	cmp	DWORD PTR _rc$[ebp], 0
	jne	SHORT $LN3@xmlModuleP
	mov	DWORD PTR tv67[ebp], 1
	jmp	SHORT $LN4@xmlModuleP
$LN3@xmlModuleP:
	mov	DWORD PTR tv67[ebp], 0
$LN4@xmlModuleP:
	mov	eax, DWORD PTR tv67[ebp]

; 332  : }

	pop	esi
	add	esp, 8
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
_xmlModulePlatformClose ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File c:\users\dag\documents\_clients\codeproject authors group\windows on arm\libxml2\libxml2-2.9.9\xmlmodule.c
;	COMDAT _xmlModulePlatformOpen
_TEXT	SEGMENT
_name$ = 8						; size = 4
_xmlModulePlatformOpen PROC				; COMDAT

; 316  : {

	push	ebp
	mov	ebp, esp
	push	esi
	mov	ecx, OFFSET __D4D471B4_xmlmodule@c
	call	@__CheckForDebuggerJustMyCode@4

; 317  :     return LoadLibraryA(name);

	mov	esi, esp
	mov	eax, DWORD PTR _name$[ebp]
	push	eax
	call	DWORD PTR __imp__LoadLibraryA@4
	cmp	esi, esp
	call	__RTC_CheckEsp

; 318  : }

	pop	esi
	cmp	ebp, esp
	call	__RTC_CheckEsp
	pop	ebp
	ret	0
_xmlModulePlatformOpen ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File c:\users\dag\documents\_clients\codeproject authors group\windows on arm\libxml2\libxml2-2.9.9\xmlmodule.c
;	COMDAT _xmlModuleFree
_TEXT	SEGMENT
_module$ = 8						; size = 4
_xmlModuleFree PROC					; COMDAT

; 192  : {

	push	ebp
	mov	ebp, esp
	push	esi
	mov	ecx, OFFSET __D4D471B4_xmlmodule@c
	call	@__CheckForDebuggerJustMyCode@4

; 193  :     if (NULL == module) {

	cmp	DWORD PTR _module$[ebp], 0
	jne	SHORT $LN2@xmlModuleF

; 194  :         __xmlRaiseError(NULL, NULL, NULL, NULL, NULL, XML_FROM_MODULE,

	push	OFFSET ??_C@_0BF@JLJIEBED@null?5module?5pointer?6@
	push	0
	push	0
	push	0
	push	0
	push	0
	push	0
	push	0
	push	3
	push	4901					; 00001325H
	push	26					; 0000001aH
	push	0
	push	0
	push	0
	push	0
	push	0
	call	___xmlRaiseError
	add	esp, 64					; 00000040H

; 195  :                         XML_MODULE_CLOSE, XML_ERR_FATAL, NULL, 0, NULL,
; 196  :                         NULL, NULL, 0, 0, "null module pointer\n");
; 197  :         return -1;

	or	eax, -1
	jmp	SHORT $LN1@xmlModuleF
$LN2@xmlModuleF:

; 198  :     }
; 199  : 
; 200  :     xmlFree(module->name);

	mov	esi, esp
	mov	eax, DWORD PTR _module$[ebp]
	mov	ecx, DWORD PTR [eax]
	push	ecx
	call	DWORD PTR _xmlFree
	add	esp, 4
	cmp	esi, esp
	call	__RTC_CheckEsp

; 201  :     xmlFree(module);

	mov	esi, esp
	mov	edx, DWORD PTR _module$[ebp]
	push	edx
	call	DWORD PTR _xmlFree
	add	esp, 4
	cmp	esi, esp
	call	__RTC_CheckEsp

; 202  : 
; 203  :     return (0);

	xor	eax, eax
$LN1@xmlModuleF:

; 204  : }

	pop	esi
	cmp	ebp, esp
	call	__RTC_CheckEsp
	pop	ebp
	ret	0
_xmlModuleFree ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File c:\users\dag\documents\_clients\codeproject authors group\windows on arm\libxml2\libxml2-2.9.9\xmlmodule.c
;	COMDAT _xmlModuleClose
_TEXT	SEGMENT
_rc$ = -4						; size = 4
_module$ = 8						; size = 4
_xmlModuleClose PROC					; COMDAT

; 156  : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH
	mov	ecx, OFFSET __D4D471B4_xmlmodule@c
	call	@__CheckForDebuggerJustMyCode@4

; 157  :     int rc;
; 158  : 
; 159  :     if (NULL == module) {

	cmp	DWORD PTR _module$[ebp], 0
	jne	SHORT $LN2@xmlModuleC

; 160  :         __xmlRaiseError(NULL, NULL, NULL, NULL, NULL, XML_FROM_MODULE,

	push	OFFSET ??_C@_0BF@JLJIEBED@null?5module?5pointer?6@
	push	0
	push	0
	push	0
	push	0
	push	0
	push	0
	push	0
	push	3
	push	4901					; 00001325H
	push	26					; 0000001aH
	push	0
	push	0
	push	0
	push	0
	push	0
	call	___xmlRaiseError
	add	esp, 64					; 00000040H

; 161  :                         XML_MODULE_CLOSE, XML_ERR_FATAL, NULL, 0, 0,
; 162  :                         NULL, NULL, 0, 0, "null module pointer\n");
; 163  :         return -1;

	or	eax, -1
	jmp	SHORT $LN1@xmlModuleC
$LN2@xmlModuleC:

; 164  :     }
; 165  : 
; 166  :     rc = xmlModulePlatformClose(module->handle);

	mov	eax, DWORD PTR _module$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	push	ecx
	call	_xmlModulePlatformClose
	add	esp, 4
	mov	DWORD PTR _rc$[ebp], eax

; 167  : 
; 168  :     if (rc != 0) {

	cmp	DWORD PTR _rc$[ebp], 0
	je	SHORT $LN3@xmlModuleC

; 169  :         __xmlRaiseError(NULL, NULL, NULL, NULL, NULL, XML_FROM_MODULE,

	mov	edx, DWORD PTR _module$[ebp]
	mov	eax, DWORD PTR [edx]
	push	eax
	push	OFFSET ??_C@_0BF@CKAMEDGJ@failed?5to?5close?3?5?$CFs?6@
	push	0
	push	0
	push	0
	mov	ecx, DWORD PTR _module$[ebp]
	mov	edx, DWORD PTR [ecx]
	push	edx
	push	0
	push	0
	push	0
	push	3
	push	4901					; 00001325H
	push	26					; 0000001aH
	push	0
	push	0
	push	0
	push	0
	push	0
	call	___xmlRaiseError
	add	esp, 68					; 00000044H

; 170  :                         XML_MODULE_CLOSE, XML_ERR_FATAL, NULL, 0, 0,
; 171  :                         (const char *) module->name, NULL, 0, 0,
; 172  :                         "failed to close: %s\n", module->name);
; 173  :         return -2;

	mov	eax, -2					; fffffffeH
	jmp	SHORT $LN1@xmlModuleC
$LN3@xmlModuleC:

; 174  :     }
; 175  : 
; 176  :     rc = xmlModuleFree(module);

	mov	eax, DWORD PTR _module$[ebp]
	push	eax
	call	_xmlModuleFree
	add	esp, 4
	mov	DWORD PTR _rc$[ebp], eax

; 177  :     return (rc);

	mov	eax, DWORD PTR _rc$[ebp]
$LN1@xmlModuleC:

; 178  : }

	add	esp, 4
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
_xmlModuleClose ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File c:\users\dag\documents\_clients\codeproject authors group\windows on arm\libxml2\libxml2-2.9.9\xmlmodule.c
;	COMDAT _xmlModuleSymbol
_TEXT	SEGMENT
tv90 = -8						; size = 4
_rc$ = -4						; size = 4
_module$ = 8						; size = 4
_name$ = 12						; size = 4
_symbol$ = 16						; size = 4
_xmlModuleSymbol PROC					; COMDAT

; 120  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 8
	mov	DWORD PTR [ebp-8], -858993460		; ccccccccH
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH
	mov	ecx, OFFSET __D4D471B4_xmlmodule@c
	call	@__CheckForDebuggerJustMyCode@4

; 121  :     int rc = -1;

	mov	DWORD PTR _rc$[ebp], -1

; 122  : 
; 123  :     if ((NULL == module) || (symbol == NULL) || (name == NULL)) {

	cmp	DWORD PTR _module$[ebp], 0
	je	SHORT $LN3@xmlModuleS
	cmp	DWORD PTR _symbol$[ebp], 0
	je	SHORT $LN3@xmlModuleS
	cmp	DWORD PTR _name$[ebp], 0
	jne	SHORT $LN2@xmlModuleS
$LN3@xmlModuleS:

; 124  :         __xmlRaiseError(NULL, NULL, NULL, NULL, NULL, XML_FROM_MODULE,

	push	OFFSET ??_C@_0BA@IHHNNHF@null?5parameter?6@
	push	0
	push	0
	push	0
	push	0
	push	0
	push	0
	push	0
	push	3
	push	4900					; 00001324H
	push	26					; 0000001aH
	push	0
	push	0
	push	0
	push	0
	push	0
	call	___xmlRaiseError
	add	esp, 64					; 00000040H

; 125  :                         XML_MODULE_OPEN, XML_ERR_FATAL, NULL, 0, 0,
; 126  :                         NULL, NULL, 0, 0, "null parameter\n");
; 127  :         return rc;

	mov	eax, DWORD PTR _rc$[ebp]
	jmp	SHORT $LN1@xmlModuleS
$LN2@xmlModuleS:

; 128  :     }
; 129  : 
; 130  :     rc = xmlModulePlatformSymbol(module->handle, name, symbol);

	mov	eax, DWORD PTR _symbol$[ebp]
	push	eax
	mov	ecx, DWORD PTR _name$[ebp]
	push	ecx
	mov	edx, DWORD PTR _module$[ebp]
	mov	eax, DWORD PTR [edx+4]
	push	eax
	call	_xmlModulePlatformSymbol
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _rc$[ebp], eax

; 131  : 
; 132  :     if (rc == -1) {

	cmp	DWORD PTR _rc$[ebp], -1
	jne	SHORT $LN4@xmlModuleS

; 133  :         __xmlRaiseError(NULL, NULL, NULL, NULL, NULL, XML_FROM_MODULE,

	cmp	DWORD PTR _name$[ebp], 0
	jne	SHORT $LN6@xmlModuleS
	mov	DWORD PTR tv90[ebp], OFFSET ??_C@_04HIBGFPH@NULL@
	jmp	SHORT $LN7@xmlModuleS
$LN6@xmlModuleS:
	mov	ecx, DWORD PTR _name$[ebp]
	mov	DWORD PTR tv90[ebp], ecx
$LN7@xmlModuleS:
	mov	edx, DWORD PTR tv90[ebp]
	push	edx
	push	OFFSET ??_C@_0BL@MIBDMDEL@failed?5to?5find?5symbol?3?5?$CFs?6@
	push	0
	push	0
	push	0
	mov	eax, DWORD PTR _name$[ebp]
	push	eax
	push	0
	push	0
	push	0
	push	3
	push	4900					; 00001324H
	push	26					; 0000001aH
	push	0
	push	0
	push	0
	push	0
	push	0
	call	___xmlRaiseError
	add	esp, 68					; 00000044H

; 134  :                         XML_MODULE_OPEN, XML_ERR_FATAL, NULL, 0, 0,
; 135  :                         name, NULL, 0, 0,
; 136  :                         "failed to find symbol: %s\n",
; 137  : 			(name == NULL ? "NULL" : name));
; 138  :         return rc;

	mov	eax, DWORD PTR _rc$[ebp]
	jmp	SHORT $LN1@xmlModuleS
$LN4@xmlModuleS:

; 139  :     }
; 140  : 
; 141  :     return rc;

	mov	eax, DWORD PTR _rc$[ebp]
$LN1@xmlModuleS:

; 142  : }

	add	esp, 8
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
_xmlModuleSymbol ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File c:\users\dag\documents\_clients\codeproject authors group\windows on arm\libxml2\libxml2-2.9.9\xmlmodule.c
;	COMDAT _xmlModuleOpen
_TEXT	SEGMENT
_module$ = -4						; size = 4
_name$ = 8						; size = 4
_options$ = 12						; size = 4
_xmlModuleOpen PROC					; COMDAT

; 79   : {

	push	ebp
	mov	ebp, esp
	push	ecx
	push	esi
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH
	mov	ecx, OFFSET __D4D471B4_xmlmodule@c
	call	@__CheckForDebuggerJustMyCode@4

; 80   :     xmlModulePtr module;
; 81   : 
; 82   :     module = (xmlModulePtr) xmlMalloc(sizeof(xmlModule));

	mov	esi, esp
	push	8
	call	DWORD PTR _xmlMalloc
	add	esp, 4
	cmp	esi, esp
	call	__RTC_CheckEsp
	mov	DWORD PTR _module$[ebp], eax

; 83   :     if (module == NULL) {

	cmp	DWORD PTR _module$[ebp], 0
	jne	SHORT $LN2@xmlModuleO

; 84   :         xmlModuleErrMemory(NULL, "creating module");

	push	OFFSET ??_C@_0BA@OFEBAJM@creating?5module@
	push	0
	call	_xmlModuleErrMemory
	add	esp, 8

; 85   :         return (NULL);

	xor	eax, eax
	jmp	$LN1@xmlModuleO
$LN2@xmlModuleO:

; 86   :     }
; 87   : 
; 88   :     memset(module, 0, sizeof(xmlModule));

	xor	eax, eax
	mov	ecx, DWORD PTR _module$[ebp]
	mov	DWORD PTR [ecx], eax
	mov	DWORD PTR [ecx+4], eax

; 89   : 
; 90   :     module->handle = xmlModulePlatformOpen(name);

	mov	edx, DWORD PTR _name$[ebp]
	push	edx
	call	_xmlModulePlatformOpen
	add	esp, 4
	mov	ecx, DWORD PTR _module$[ebp]
	mov	DWORD PTR [ecx+4], eax

; 91   : 
; 92   :     if (module->handle == NULL) {

	mov	edx, DWORD PTR _module$[ebp]
	cmp	DWORD PTR [edx+4], 0
	jne	SHORT $LN3@xmlModuleO

; 93   :         xmlFree(module);

	mov	esi, esp
	mov	eax, DWORD PTR _module$[ebp]
	push	eax
	call	DWORD PTR _xmlFree
	add	esp, 4
	cmp	esi, esp
	call	__RTC_CheckEsp

; 94   :         __xmlRaiseError(NULL, NULL, NULL, NULL, NULL, XML_FROM_MODULE,

	mov	ecx, DWORD PTR _name$[ebp]
	push	ecx
	push	OFFSET ??_C@_0BD@JFAKKDJO@failed?5to?5open?5?$CFs?6@
	push	0
	push	0
	push	0
	mov	edx, DWORD PTR _name$[ebp]
	push	edx
	push	0
	push	0
	push	0
	push	3
	push	4900					; 00001324H
	push	26					; 0000001aH
	push	0
	push	0
	push	0
	push	0
	push	0
	call	___xmlRaiseError
	add	esp, 68					; 00000044H

; 95   :                         XML_MODULE_OPEN, XML_ERR_FATAL, NULL, 0, 0,
; 96   :                         name, NULL, 0, 0, "failed to open %s\n", name);
; 97   :         return(NULL);

	xor	eax, eax
	jmp	SHORT $LN1@xmlModuleO
$LN3@xmlModuleO:

; 98   :     }
; 99   : 
; 100  :     module->name = xmlStrdup((const xmlChar *) name);

	mov	eax, DWORD PTR _name$[ebp]
	push	eax
	call	_xmlStrdup
	add	esp, 4
	mov	ecx, DWORD PTR _module$[ebp]
	mov	DWORD PTR [ecx], eax

; 101  :     return (module);

	mov	eax, DWORD PTR _module$[ebp]
$LN1@xmlModuleO:

; 102  : }

	pop	esi
	add	esp, 4
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
_xmlModuleOpen ENDP
_TEXT	ENDS
END
